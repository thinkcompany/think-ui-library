/* ----------------------------------------------*\
     Compositional mixins
\*---------------------------------------------- */

// The base style for all fonts.
// Accepts an optional font color parameter and font weight (defaults to normal)
@mixin type-base-style($font-color: inherit, $font-weight: normal) {
  color: $font-color;
  font-weight: $font-weight;
  font-size: $font-size-16;
  font-family: $font-stack-slab-book;
}

/* ----------------------------------------------*\
     Styling mixins
\*---------------------------------------------- */
@mixin type-style-bold {
  font-weight: $font-weight-600;
}

/* ----------------------------------------------*\
     Size mixin
\*---------------------------------------------- */

// scale relative to viewport width. same units required
@mixin clamp($properties, $min-vw, $max-vw, $min-value, $max-value) {
  & {
    @each $property in $properties {
      #{$property}: $min-value;
    }

    @media screen and (min-width: $min-vw) {
      @each $property in $properties {
        #{$property}: calc(
          #{$min-value} +
            #{strip-unit($max-value - $min-value)} *
            (100vw - #{$min-vw}) /
            #{strip-unit($max-vw - $min-vw)}
        );
      }
    }

    @media screen and (min-width: $max-vw) {
      @each $property in $properties {
        #{$property}: $max-value;
      }
    }
  }
}

@function strip-unit($value) {
  @return $value / ($value * 0 + 1);
}

/* ----------------------------------------------*\
    Type mixins
\*---------------------------------------------- */
@mixin type-display-extra-large($font-color: inherit, $italic: false) {
  @include type-base-style($font-color, 400);
  @include clamp(
    font-size,
    $breakpoint-phone-portrait,
    $breakpoint-desktop,
    $font-size-53,
    $font-size-160
  );
  @include clamp(
    line-height,
    $breakpoint-phone-portrait,
    $breakpoint-desktop,
    60px,
    175px
  );
  font-family: $font-stack-slab-light;

  @if $italic {
    font-family: $font-stack-slab-light-italic;
  }
}

@mixin type-display-large($font-color: inherit, $italic: false) {
  @include type-base-style($font-color, 400);
  @include clamp(
    font-size,
    $breakpoint-phone-portrait,
    $breakpoint-desktop,
    $font-size-53,
    $font-size-120
  );
  @include clamp(
    line-height,
    $breakpoint-phone-portrait,
    $breakpoint-desktop,
    60px,
    128px
  );
  font-family: $font-stack-slab-light;

  @if $italic {
    font-family: $font-stack-slab-light-italic;
  }
}

@mixin type-display-medium($font-color: inherit, $italic: false) {
  @include type-base-style($font-color, 400);
  @include clamp(
    font-size,
    $breakpoint-phone-portrait,
    $breakpoint-desktop,
    $font-size-43,
    $font-size-80
  );
  @include clamp(
    line-height,
    $breakpoint-phone-portrait,
    $breakpoint-desktop,
    52px,
    92px
  );
  font-family: $font-stack-slab-light;

  @if $italic {
    font-family: $font-stack-slab-light-italic;
  }
}

@mixin type-display-small($font-color: inherit, $italic: false) {
  @include type-base-style($font-color, 400);
  @include clamp(
    font-size,
    $breakpoint-phone-portrait,
    $breakpoint-desktop,
    $font-size-30,
    $font-size-36
  );
  @include clamp(
    line-height,
    $breakpoint-phone-portrait,
    $breakpoint-desktop,
    40px,
    46px
  );
  font-family: $font-stack-slab-book;

  @if $italic {
    font-family: $font-stack-slab-book-italic;
  }
}

@mixin type-display-extra-small($font-color: inherit, $italic: false) {
  @include type-base-style($font-color, 700);
  font-size: $font-size-11;
  font-family: $font-stack-serif-bold;
  text-transform: uppercase;
  letter-spacing: 1px;
  line-height: 15px;

  @if $italic {
    font-family: $font-stack-serif-bold-italic;
  }
}

@mixin type-eyebrow($font-color: inherit, $italic: false) {
  @include type-base-style($font-color, 900);
  font-size: $font-size-14;
  font-family: $font-stack-serif-black;
  line-height: 18px;
  letter-spacing: 3px;
  text-transform: uppercase;

  @if $italic {
    font-family: $font-stack-serif-black-italic;
  }
}

@mixin type-body-large($font-color: inherit, $height: default, $italic: false) {
  @include type-base-style($font-color, 400);
  @include clamp(
    font-size,
    $breakpoint-phone-portrait,
    $breakpoint-desktop,
    $font-size-24,
    $font-size-28
  );
  @include clamp(
    line-height,
    $breakpoint-phone-portrait,
    $breakpoint-desktop,
    32px,
    36px
  );
  font-family: $font-stack-slab;

  @if $height != default {
    @include clamp(
      line-height,
      $breakpoint-phone-portrait,
      $breakpoint-desktop,
      38px,
      46px
    );
  }

  @if $italic {
    font-family: $font-stack-slab-italic;
  }
}

@mixin type-body-default($font-color: inherit, $italic: false) {
  @include type-base-style($font-color, 300);
  font-size: $font-size-18;
  font-family: $font-stack-slab-book;
  line-height: 32px;

  @if $italic {
    font-family: $font-stack-slab-book-italic;
  }
}

@mixin type-body-small($font-color: inherit, $italic: false) {
  @include type-base-style($font-color, 500);
  font-size: $font-size-16;
  font-family: $font-stack-serif;
  line-height: 20px;

  @if $italic {
    font-family: $font-stack-serif-italic;
  }
}

// trash once button styles are updated
@mixin type-body-medium($font-color: inherit, $font-weight: $font-weight-400) {
  @include type-base-style($font-color);
  font-weight: $font-weight;

  @include wider-than($breakpoint-tablet-portrait) {
    font-size: $font-size-18;
    line-height: 1.44;
  }
  font-size: $font-size-16;
  line-height: 1.25;
}

@mixin list-plain {
  margin: 0;
  padding: 0;
  list-style: none;
}

@mixin type-highlight($font-color: $color-tint-blue-primary) {
  color: $font-color;
  transition: text-decoration 0.4s ease, color 0.4s ease;
}

/**
  * Link style with highlight transition
  */
@mixin type-link(
  $font-color: $color-tint-blue-primary,
  $font-size: inherit,
  $font-weight: inherit,
  $font-family: inherit,
  $line-height: inherit
) {
  @include type-highlight($font-color);
  font-weight: $font-weight;
  font-size: $font-size;
  font-family: $font-family;
  line-height: $line-height;

  &:link,
  &:visited {
    text-decoration: underline;
  }

  &:hover,
  &:focus,
  &:active {
    text-decoration: none;
  }
}

/**
  * Makes type wrapped in an anchor
  * NOT have the standard link style
  */
@mixin type-not-link {
  color: inherit;
  font-weight: inherit;
  text-decoration: none;
  background: none;
}
